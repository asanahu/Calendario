<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>GestiÃ³n de Usuarios</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
    <h1 class="page-title">Usuarios Registrados</h1>

    <a href="/admin/add_user" class="add-user-button">â• AÃ±adir Usuario</a>
    <a href="{{ url_for('admin_skills') }}" class="add-user-button" style="background-color: #17a2b8;">ğŸ§  Matriz de
        Habilidades (TS)</a>
    {% if current_user.usuario in ['sclavero', 'asanahuja'] %}
    <a href="/admin/reset_passwords" class="add-user-button">ğŸ”‘ Resetear ContraseÃ±as</a>
    {% endif %}

    <table border="1">
        <tr>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>Usuario</th>
            <th>Puesto</th>
            <th>Acciones</th> <!-- Solo una celda para Acciones -->
        </tr>
        {% for usuario in usuarios %}
        <tr>
            <td>{{ usuario.display_name if hide_real_names else usuario.nombre }}</td>
            <td>{{ 'â€”' if hide_real_names else usuario.apellidos }}</td>
            <td>{{ usuario.usuario }}</td>
            <td>{{ usuario.puesto }}</td>
            <td> <!-- ğŸ”¹ Acciones en una sola celda -->
                <a href="/admin/user_vacations/{{ usuario._id }}">ğŸ“… Ver Vacaciones</a>
                <a href="{{ url_for('edit_user', user_id=usuario._id) }}">âœï¸ Editar</a>
                <form method="POST" action="/admin/delete_user/{{ usuario._id }}" style="display:inline;">
                    <button type="submit"
                        onclick="return confirm('Â¿Seguro que deseas eliminar este usuario?\n\nâš ï¸ ESTO ELIMINARÃ TAMBIÃ‰N TODOS SUS ESTADOS ASIGNADOS EN EL CALENDARIO.');">âŒ
                        Eliminar</button>
                </form>

            </td>
        </tr>
        {% endfor %}
    </table>


    <br>
    <a href="/calendar">â¬…ï¸ Volver al Calendario</a>
</body>

</html>